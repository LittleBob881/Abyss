using System.Collections;
using System.Collections.Generic;

using UnityEngine;
using UnityEngine.SceneManagement;
using UnityEngine.UI;

public class DoorScript : MonoBehaviour
{
    //The door button that will be used for the process.
    public GameObject doorButton;

    // Vector variables that can be set within the door controller to make it easier to use, and are set within the door controller.
    public float x;
    public float y;

    //The gameobject that represents the player.
    public GameObject player;

    //The walk controller function, that allows the player to walk. Taken from the walk script.
    public Walk walkcontroller;



    void Start()
    {
        // Prints out the original position of the player
        //Instantiates a Door button
        Button next = doorButton.GetComponent<Button>();
        //When the user taps on the button, loads the Loadscreen function
        next.onClick.AddListener(Loadscreen);
    }

    
    /*The Load screen function is used to transform the player to the desired vector/room, this is done by disabling the walkcontroller so that the player cannot move during the tansformation
     and then checking if the character is in the desired location, before enabling the character controller once again. The vector is set through a Door Controller that is then added to the 
    door button.*/
    public void Loadscreen()
    {
        
        //Disables the walkcontroller so that the player cant move forward during the transform to the next room.
        walkcontroller.enabled = false;
        //Transforms the player to the desired location, that is set within the door controller.
        player.transform.position = new Vector3(x, y);
        walkcontroller.enabled = true;
    }

}
